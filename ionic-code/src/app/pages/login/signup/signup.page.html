<ion-content [fullscreen]="true">

  <ion-fab slot="fixed">
    <ion-button fill="clear" color="dark" (click)="back()">
      <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
    </ion-button>
  </ion-fab>

  <div align="center" class="logo">
    <img src="assets/imgs/logo.png" />
  </div>

  <form [formGroup]="form" class="ion-margin-horizontal">

    <ion-list class="ion-margin-horizontal">
      <ion-list-header class="ion-margin-bottom">
        <ion-label>
          Sign Up
        </ion-label>
      </ion-list-header>

      <ion-input
        label=""
        class="ion-margin-bottom"
        color="primary"
        type="text"
        placeholder="Name"
        formControlName="name"
        errorText="* Please enter your name"
      >
        <ion-icon slot="start" name="person-outline" color="dark"></ion-icon>
      </ion-input>

      <ion-input
        label=""
        class="ion-margin-bottom"
        color="primary"
        type="email"
        placeholder="Email address"
        formControlName="email"
        errorText="* Please enter your email address"
      >
        <ion-icon slot="start" name="mail-outline" color="dark"></ion-icon>
      </ion-input>

      <ion-input
        class="ion-margin-bottom"
        label=""
        type="tel"
        color="primary"
        placeholder="Phone"
        minlength="10"
        maxlength="10"
        formControlName="phone"
        errorText="* Please enter proper Phone number"
      >
        <ion-icon name="call-outline" slot="start" color="dark"></ion-icon>
      </ion-input>

      <ion-input
        label=""
        type="password"
        color="primary"
        placeholder="Password"
        formControlName="password"
        [errorText]="form.get('password')!.hasError('minlength') ? '* Password must be atleast 8 characters long' : '* Please enter your password'"
      >
        <ion-icon
          slot="start"
          name="lock-closed-outline"
          color="dark"
        ></ion-icon>

        <ion-input-password-toggle slot="end"></ion-input-password-toggle>
      </ion-input>
    </ion-list>

  </form>

  @if(!isSignup) {
    <ion-button
      expand="block"
      size="large"
      class="ion-padding signup-button"
      shape="round"
      [strong]="true"
      (click)="onSubmit()"
    >
      <ion-text> SIGN UP </ion-text>
    </ion-button>
  } @else { 
    <ion-button
      expand="block"
      size="large"
      class="ion-padding signup-button"
      shape="round"
      [strong]="true"
    >
    <ion-spinner name="crescent" color="light"></ion-spinner>
    </ion-button>
  }
</ion-content>

<ion-footer class="ion-no-border">
  <div [align]="'center'" class="ion-padding-bottom login">
    <ion-text> Already have an account? </ion-text>
    <ion-button
      fill="clear"
      color="dark"
      size="small"
      [strong]="true"
      (click)="back()"
    >
      <ion-text slot="start"> Login </ion-text>
    </ion-button>
  </div>
</ion-footer>